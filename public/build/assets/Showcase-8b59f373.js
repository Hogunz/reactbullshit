import{W as y,r as M,j as e,y as w,R as B}from"./app-d32c4aec.js";import{N as G}from"./NavBar-7ee45a4d.js";import"./SVGicon-e884c9be.js";function H({program:i,video:p,galleryItems:l,categories:r}){const{data:x,setData:d,post:m,processing:o,errors:s}=y({video:null}),{data:u,setData:b,post:a,processing:g,errors:j,reset:D}=y({name:""}),{data:v,setData:f,post:L,processing:k,errors:n,reset:S}=y({title:"",category:"",file:null});M.useState(!1);const V=t=>{t.preventDefault(),m(route("admin.specializations.update-video",i))},A=t=>{t.preventDefault(),L(route("admin.specializations.store-gallery",i),{onSuccess:()=>S()})},P=t=>{t.preventDefault(),a(route("admin.specializations.store-category",i),{onSuccess:()=>D()})},z=t=>{confirm("Are you sure you want to delete this category?")&&w.delete(route("admin.specializations.destroy-category",t))},N=t=>{confirm("Are you sure you want to delete this item?")&&w.delete(route("admin.specializations.destroy-gallery",t))};return e.jsxs(e.Fragment,{children:[e.jsx(G,{}),e.jsx("div",{className:"min-h-screen bg-light dark:bg-dark pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-extrabold text-dark dark:text-light tracking-tight",children:["Manage ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple to-fuchsia-500",children:i})," Content"]}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400",children:"Update the main video and student gallery."})]})}),e.jsxs("section",{className:"bg-white/60 dark:bg-white/5 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl",children:[e.jsxs("h2",{className:"text-2xl font-bold text-dark dark:text-light mb-6 flex items-center gap-3",children:[e.jsx("span",{className:"p-2 rounded-lg bg-purple/10 text-purple",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),"Main Video"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[e.jsx("div",{className:"space-y-4",children:p?e.jsx("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-black shadow-lg",children:e.jsx("video",{src:p,controls:!0,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"aspect-video rounded-xl bg-gray-100 dark:bg-white/5 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-white/10",children:e.jsx("p",{className:"text-gray-500",children:"No video uploaded"})})}),e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload New Video (MP4, Max 500MB)"}),e.jsx("input",{type:"file",accept:"video/mp4,video/quicktime",onChange:t=>d("video",t.target.files[0]),className:`block w-full text-sm text-gray-500\r
                                            file:mr-4 file:py-2.5 file:px-4\r
                                            file:rounded-full file:border-0\r
                                            file:text-sm file:font-semibold\r
                                            file:bg-purple file:text-white\r
                                            hover:file:bg-purple/90 cursor-pointer\r
                                            bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/10`}),s.video&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:s.video})]}),e.jsx("button",{type:"submit",disabled:o||!x.video,className:"w-full px-6 py-3 rounded-xl bg-dark dark:bg-light text-light dark:text-dark font-bold hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Uploading...":"Update Video"})]})]})]}),e.jsxs("section",{className:"space-y-8",children:[e.jsx("div",{className:"flex justify-between items-end",children:e.jsxs("h2",{className:"text-2xl font-bold text-dark dark:text-light flex items-center gap-3",children:[e.jsx("span",{className:"p-2 rounded-lg bg-purple/10 text-purple",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"Student Gallery"]})}),e.jsxs("div",{className:"bg-white/60 dark:bg-white/5 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark dark:text-light mb-4",children:"Manage Categories"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-2",children:r&&r.length>0?e.jsx("ul",{className:"space-y-2",children:r.map(t=>e.jsxs("li",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-black/20 rounded-lg border border-gray-200 dark:border-white/10",children:[e.jsx("span",{className:"text-sm font-medium text-dark dark:text-light",children:t.name}),e.jsx("button",{onClick:()=>z(t.id),className:"text-red-500 hover:text-red-700",title:"Delete Category",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},t.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No categories created yet."})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:P,className:"flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Category Name"}),e.jsx("input",{type:"text",value:u.name,onChange:t=>b("name",t.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 focus:ring-2 focus:ring-purple focus:border-transparent text-dark dark:text-light",placeholder:"e.g. 2D Animation"}),j.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:j.name})]}),e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2.5 rounded-lg bg-dark dark:bg-purple text-white font-bold hover:opacity-90 transition-all disabled:opacity-50",children:"Add"})]})})]})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-white/5 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark dark:text-light mb-4",children:"Add Gallery Item"}),e.jsxs("form",{onSubmit:A,className:"grid md:grid-cols-4 gap-6 items-end",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:v.title,onChange:t=>f("title",t.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 focus:ring-2 focus:ring-purple focus:border-transparent text-dark dark:text-light",placeholder:"e.g. Project Alpha"}),n.title&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.title})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:v.category,onChange:t=>f("category",t.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-white/10 focus:ring-2 focus:ring-purple focus:border-transparent text-dark dark:text-light",children:[e.jsx("option",{value:"",children:"Select Category"}),r&&r.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]}),n.category&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.category})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Media (Image/Video)"}),e.jsx("input",{type:"file",accept:"image/*,video/mp4,video/quicktime,video/x-m4v",onChange:t=>f("file",t.target.files[0]),className:"block w-full text-xs text-gray-500 file:mr-2 file:py-2 file:px-3 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-purple/10 file:text-purple hover:file:bg-purple/20 cursor-pointer"}),n.file&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:n.file})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsx("button",{type:"submit",disabled:k,className:"w-full px-6 py-2.5 rounded-lg bg-purple text-white font-bold hover:bg-purple/90 transition-all disabled:opacity-50",children:k?"Adding...":"Add Item"})})]})]}),e.jsxs("div",{className:"space-y-12",children:[r&&r.map(t=>{const h=l.filter(c=>c.category===t.name);return h.length===0?null:e.jsx(C,{title:t.name,color:"bg-purple",items:h,onDelete:N},t.id)}),(()=>{const t=(r==null?void 0:r.map(c=>c.name))||[],h=l.filter(c=>!c.category||!t.includes(c.category));if(h.length>0)return e.jsx(C,{title:"Uncategorized",color:"bg-gray-400",items:h,onDelete:N,isUncategorized:!0})})(),l.length===0&&e.jsx("div",{className:"col-span-full py-12 text-center text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-white/10 rounded-3xl",children:e.jsx("p",{children:"No gallery items found."})})]})]})]})})]})}function C({title:i,color:p,items:l,onDelete:r,isUncategorized:x=!1}){const[d,m]=M.useState(1),o=3,s=Math.ceil(l.length/o),u=(d-1)*o,b=l.slice(u,u+o);return B.useEffect(()=>{d>s&&s>0&&m(s)},[l.length,s,d]),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:`text-xl font-bold ${x?"text-gray-500 dark:text-gray-400":"text-dark dark:text-light"} flex items-center gap-2`,children:[e.jsx("span",{className:`w-2 h-8 ${p} rounded-full`}),i," ",e.jsxs("span",{className:"text-sm font-normal opacity-60",children:["(",l.length," items)"]})]}),s>1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>m(a=>Math.max(1,a-1)),disabled:d===1,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 disabled:opacity-30 disabled:hover:bg-transparent",title:"Previous Page",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsxs("span",{className:"text-sm font-mono text-gray-500",children:[d," / ",s]}),e.jsx("button",{onClick:()=>m(a=>Math.min(s,a+1)),disabled:d===s,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 disabled:opacity-30 disabled:hover:bg-transparent",title:"Next Page",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(a=>e.jsxs("div",{className:`group relative aspect-[4/3] rounded-2xl overflow-hidden bg-black shadow-lg border border-white/10 ${x?"opacity-75 hover:opacity-100 transition-opacity":""}`,children:[a.media_type==="video"?e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:e.jsx("video",{src:a.media_path,className:"w-full h-full object-contain pointer-events-none",muted:!0,loop:!0,onMouseOver:g=>g.target.play(),onMouseOut:g=>g.target.pause()})}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black",children:e.jsx("img",{src:a.media_path,alt:a.title,className:"w-full h-full object-contain"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-80"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-6 w-full",children:[x&&e.jsx("p",{className:"text-xs font-mono text-gray-400 mb-1",children:"No Category"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:a.title})]}),e.jsx("button",{onClick:()=>r(a.id),className:"absolute top-4 right-4 p-2 rounded-full bg-red-500/80 text-white opacity-0 group-hover:opacity-100 transition-all hover:bg-red-600 scale-90 group-hover:scale-100",title:"Delete Item",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},a.id))})]})}export{H as default};
